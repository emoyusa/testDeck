<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel='stylesheet' href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    
    <script src='http://ramnathv.github.io/rCharts/libraries/widgets/polycharts/js/polychart2.standalone.js' type='text/javascript'></script>
    
     <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
     <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    
    <style>
    .rChart {
      display: block
      margin: auto auto;
      width: 100%;
      height: 400px;
    }
    .bs-docs-example:after {
      content: "";
      background: transparent;
      border: none;
    }
    </style>
    
  </head>
  <body ng-app>
      
    <div class='container' ng-controller="DemoCtrl" ng-init="drawChart()">
  <div class='row'>
    <div class='span3'>
      <form class='well'>
        <label><b>Select  x :</b></label>
    		<select ng-model="opts.x.var" 
          ng-options="ctl for ctl in controls.x.values">   
    		</select><br>
        <label><b>Select  y :</b></label>
    		<select ng-model="opts.y.var" 
          ng-options="ctl for ctl in controls.y.values">   
    		</select><br>
      </form>
    </div>
    <div class='span8'>
      <div class="bs-docs-example">
        <div id='chart50641f24fb2' class='rChart '>
          <svg></svg>
        </div>
      </div>
    </div>
  </div>
</div>
<script type='text/javascript'>
function DemoCtrl($scope){
  $scope.chartParams = {
 "dom": "chart50641f24fb2",
"width":    700,
"height":    400,
"layers": [
 {
 "x": "HeartFailureACE",
"y": "HeartAttackPCI",
"data": {
 "ST": [ "AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "DC", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY" ],
"HeartAttackPCI": [   93.6,     83,     88,   89.5,   92.1,   93.4,   89.5,   92.7,   86.5,   92.4,   90.5,   91.7,   93.2,   92.1,   91.9,   92.2,   91.9,   88.5,   84.8,   97.5,   86.1,     92,   89.8,   94.5,   90.5,   92.3,   91.4,   92.3,   91.9,   91.2,   88.9,   84.4,   89.1,     96,   82.8,   92.7,   88.2,   91.3,   90.2,   96.5,   94.6,   88.6,   92.9,   90.4,   92.6, null,     94,   90.9,   85.2,   89.2,   89.7 ],
"HeartFailureACE": [   94.2,   96.7,   95.1,     94,   95.1,   96.7,   93.2,   94.5,   89.3,   96.5,   94.6,     95,   95.4,   95.1,   94.1,   93.5,   93.4,   91.5,   93.2,   96.6,   93.7,   94.5,   95.2,   95.2,   93.3,   94.6,   93.5,   93.2,   97.3,   96.1,   97.4,   91.1,   93.9,     96,     89,   95.7,     94,   94.2,   95.1,   94.5,   95.6,   91.3,   95.6,   95.2,   95.5,   96.2,     97,   95.2,   91.2,   95.5,   89.5 ],
"HeartFailureDischarge": [   88.8,   86.9,   86.2,   90.5,   91.9,   88.5,   86.4,   93.3,   76.8,     92,     87,   90.1,   87.6,   90.7,   87.1,   87.1,     85,   83.6,   87.3,   93.8,   87.2,   90.7,   90.5,   86.4,   86.4,   87.6,   83.6,   87.8,   90.3,   93.5,   94.3,   80.9,   90.8,   90.9,   89.2,   91.8,   84.9,   85.3,   91.5,     85,   89.6,     87,   89.2,   90.7,   91.8,   89.3,   93.2,   86.3,   85.6,   87.1,   83.7 ],
"PneumoniaComposite": [   94.6,   93.2,   93.4,   93.8,   94.4,   93.5,   94.6,   92.7,     83,   96.1,   94.7,   91.7,   94.2,   94.4,   94.5,   94.4,   91.2,   93.7,   92.5,   96.6,     93,   94.9,   94.6,   93.8,   92.9,   94.2,     93,   94.2,   94.9,   96.4,   96.4,   91.3,   92.9,   95.4,   91.5,   95.2,   92.9,     93,   95.3,   92.2,   95.2,   93.3,   95.5,   94.7,   95.9,     96,   95.6,   94.8,   92.6,   94.9,   93.3 ],
"PneumoniaCultures": [   96.9,   93.6,   95.3,   96.3,   95.7,   96.7,   96.1,   94.1,   89.5,   96.8,   96.4,   94.1,     97,     97,   95.9,   96.9,   96.6,   95.4,   95.4,   95.8,   93.6,   95.9,   96.3,   95.7,   96.1,   97.2,   95.8,   97.6,   94.8,   97.4,   97.4,   93.3,   95.1,   96.5,   95.8,   96.9,   96.5,   94.2,   96.4,   95.6,   96.8,   93.9,   97.3,   96.4,   96.5,   96.4,     97,   95.6,   94.7,   97.1,   95.2 ],
"PneumoniaDose6Hrs": [   96.2,     94,   94.6,   96.3,   95.6,   96.8,     96,   94.1,   88.9,   95.9,   95.2,   96.9,   96.8,   96.2,   96.6,   96.9,   95.4,   95.3,   94.3,   98.1,   94.9,   96.2,   96.1,   96.7,     96,   95.3,   96.9,   97.2,   95.7,   97.3,   96.9,     93,   93.2,   95.7,   95.4,   96.3,     95,   96.5,   96.3,   95.9,   95.9,   95.5,   96.7,   95.7,   97.2,     97,   96.1,   95.8,   94.3,   97.5,   96.2 ],
"PneumoniaRightAntibiotic": [   91.5,   91.4,   92.6,   90.8,   93.7,   92.6,   94.1,   90.3,   90.5,   95.1,   92.7,   93.2,   93.4,   91.1,   90.9,   92.4,     87,   90.2,   90.2,   94.9,   92.7,   93.8,   94.2,   91.1,   90.5,   91.9,   91.9,   92.1,   94.1,   95.7,   94.9,   89.3,   92.4,   93.6,     89,   93.3,   91.9,     93,   93.8,   93.2,   93.6,   89.6,   93.4,   92.1,   93.7,   95.8,   94.5,   94.8,   89.7,   93.4,   92.9 ],
"PneumoniaInfluenza": [   92.5,   90.5,     91,   90.9,   92.2,   88.4,   91.1,   90.5,   71.4,   95.3,   93.3,     86,   90.7,     92,   92.9,   91.6,   88.2,   92.3,   89.7,   96.2,   89.7,   93.3,   91.8,   92.2,   89.9,   91.3,   89.6,   91.1,   93.9,   95.5,   95.3,   89.7,   90.6,   94.2,   84.6,   92.9,     89,   87.9,   93.5,   86.5,   93.3,   92.1,   93.6,   93.6,   95.2,   94.8,   93.8,   92.7,   90.9,   91.5,   89.9 ],
"PneumoniaPneumovax": [   94.6,   95.2,   92.5,   93.5,     94,   90.9,   94.5,   93.1,     74,   96.7,     95,   87.1,     92,   93.4,   94.5,   93.1,   88.3,   93.9,   91.4,   97.3,   93.1,   94.5,   93.4,   92.6,   90.9,   93.7,     90,   92.5,   95.6,   95.9,   96.5,   90.2,   92.2,     96,   90.9,   95.1,   90.9,   91.6,   95.5,   88.2,   95.3,     94,   95.4,   94.5,   96.1,   95.8,   95.6,   94.5,   91.9,   93.7,   90.3 ],
"SurgeryAntibioticTiming": [   96.9,   96.8,   96.2,   95.9,   95.8,   96.6,   96.5,   97.6,     94,   97.2,   96.1,   95.3,   94.9,   96.4,   96.6,   96.5,   95.8,     96,   95.7,     98,   95.7,   97.4,   96.8,   96.8,   96.3,   96.6,   97.3,   96.6,   96.2,   97.4,   97.3,   95.3,   95.8,   97.4,   96.8,     97,   96.5,   95.5,   96.9,   96.6,   96.8,   96.8,   96.5,   96.2,   96.3,   97.6,   97.3,   96.6,   96.1,   96.7,   95.4 ],
"SurgeryRightAntibiotic": [   98.1,   97.5,   97.6,     97,   97.2,   97.9,   97.1,   98.8,   94.7,   97.8,   97.5,   97.8,   97.4,   97.4,   97.9,     98,   97.7,   97.8,     97,   98.4,   97.6,   98.2,   97.9,   97.9,   97.4,   97.9,   97.8,   98.2,   97.8,   98.2,   97.7,   97.5,   97.2,   98.4,   97.4,   98.2,   98.1,   97.9,   97.9,   97.6,     98,   97.9,   97.5,   97.6,   97.7,   98.3,   98.2,   97.9,   97.3,   98.3,   96.7 ],
"SurgeryGlucoseControlled": [   94.8,   96.4,   94.5,   93.8,     94,   91.8,   92.3,   95.4,   93.6,   95.1,   93.4,   90.2,   95.8,   92.9,   94.1,   90.7,   92.9,   94.4,   90.3,   95.5,     91,   95.5,   94.3,   92.6,   93.6,   94.3,   95.1,   96.2,     94,   95.9,   93.1,     95,   94.3,   95.6,   92.7,   94.9,   95.2,   95.6,   96.1,   92.6,   96.3,   96.3,   93.8,   92.2,   95.6,     97,   96.5,   94.5,   92.6,   93.4,     93 ],
"SurgeryHairRemoved": [   99.8,   99.8,   99.7,   99.4,   99.6,   99.5,   99.4,    100,   99.3,   99.7,   99.6,   99.2,   99.1,   99.7,   99.8,   99.7,   99.8,   99.4,   99.4,   99.7,   99.7,   99.8,   99.5,   99.5,   99.5,   99.7,   99.6,   99.7,   99.7,   99.9,   99.8,   99.8,   99.7,   99.8,   99.4,   99.8,   99.7,   99.6,   99.8,   99.6,   99.7,   99.8,   99.7,   99.6,   99.4,   99.9,   99.8,   99.8,   99.5,   99.8,   99.7 ],
"SurgeryPreventClots": [   95.3,   90.5,   93.4,   95.6,   93.2,   94.5,     97,   96.2,   96.2,   96.2,   94.4,   88.4,   93.9,   94.9,   94.1,   93.3,   92.1,     94,   93.9,   97.1,   92.3,   97.2,   96.2,   93.8,   93.1,   95.2,     95,   96.5,   94.9,     96,     96,   93.8,   96.5,   95.9,   94.1,   95.2,   94.6,     92,   97.1,   96.5,   95.8,   92.7,   94.9,   93.8,   92.8,   95.7,   95.9,   95.3,   93.3,   94.5,   91.6 ],
"SurgeryBetaBlocker": [   95.5,   92.7,   93.4,   93.7,   93.8,   93.5,   93.2,   96.1,   90.1,   95.5,     93,   91.2,   90.4,   94.3,     94,   95.4,   91.5,   93.8,     94,   95.9,   92.2,   96.4,   93.5,   94.3,   91.6,     94,   93.9,     95,   93.2,   95.8,   95.6,   90.4,   92.6,   95.5,   92.9,   95.1,   92.7,   90.7,   95.1,     96,   95.7,   92.9,   94.5,   93.6,   88.9,   92.1,   95.9,   93.9,   94.2,   93.5,   83.3 ],
"SurgeryCatheterRemoved": [   92.3,     94,   89.5,   88.9,   90.3,   89.9,   91.1,   94.7,   90.1,   91.7,   90.5,   87.3,   89.3,   90.6,   92.1,   91.5,   88.5,   90.2,   88.7,     93,   90.9,   90.3,   91.1,   90.6,   91.6,   88.2,     93,   88.8,   89.3,   90.4,   93.1,   93.4,   90.1,   92.3,   92.7,   91.9,   87.2,   90.9,   94.7,     86,   93.4,   89.7,   90.7,   90.5,   86.9,   96.5,   93.2,   88.3,   91.4,     92,   87.8 ],
"SurgeryTemperature": [   99.4,   99.6,   98.6,   98.8,   98.9,   99.7,   98.9,   99.2,   97.7,   99.6,   98.8,   99.6,     99,   98.8,     99,   99.3,   99.4,   99.1,     99,   99.1,   98.6,   99.3,     99,   98.7,   99.1,   98.6,   99.6,   99.5,   98.9,   99.7,   99.3,   99.3,   98.1,   99.3,   98.4,     99,   99.2,   98.7,   99.1,     99,   99.5,     97,   99.3,   98.8,   98.2,   98.9,   99.5,   99.5,   98.5,   99.2,   98.5 ],
"AMIDeaths": [ null, null,   39.8,   70.1,   55.3,   52.5,   52.6, null, null,   45.8,   50.4,   52.8, null,   48.5,   55.2,   48.7,   55.1,     57,   77.9,   49.2,   52.4,   52.4,   45.2,   50.8, null,     56, null,     59,   66.6, null,     56, null,   54.2,   53.1, null,   44.2,   61.3,   57.5, null,   44.2,   52.5,   58.6,   51.7,   53.7,   59.6,   61.3,   54.5,   52.5,   61.8,   53.8,   87.8 ],
"CHFDeaths": [ null, null,   12.4,   30.4,   21.5,   20.3,   24.1, null, null,   18.9,   19.5,   32.4, null,   20.9,   21.9,   25.5,   29.2,   25.4,   36.8,   27.9,   15.5,   22.8,   16.6,   22.6, null,   25.5, null,     27,   22.9, null,   23.5, null,   31.1,   22.4, null,   18.1,     28,   25.4, null,   24.3,   27.7,   33.4,   25.6,     22,   29.1,   31.6,   23.7,   23.7,   26.3,   23.2,   47.5 ],
"AAARepairDeaths": [ null, null,   38.1,   64.5,   40.6,   31.1,   45.2, null, null,   52.5,   42.9, null, null,     42,   42.9,     47,   55.7,   41.3,   44.9,   43.5,   38.4,   39.7,   37.8,     31, null,   43.9, null,   64.4,   37.4, null,     63, null,     47,   45.5, null,   38.3,   77.2,   41.3, null, null,   46.3, null,   35.2,   40.1, null, null,     33,   51.1,   50.6,   39.8, null ],
"CABGDeaths": [ null, null,   19.7,   32.9,   20.3,   15.8,     22, null, null,   21.4,   23.8,   36.9, null,     20,   20.4,   27.3,   27.9,   20.4,   27.9,   23.7,   14.6,   21.5,   14.4,   21.8, null,   20.9, null,   17.2,     32, null,   20.9, null,   18.3,     17, null,   15.4,   28.2,   20.3, null, null,     17, null,   21.4,   25.6,   24.6,     32,   23.4,   23.8,   24.2,   19.8, null ],
"PTCADeaths": [ null, null,   11.2,   12.9,   12.7,   11.9,   12.5, null, null,   11.8,   11.5,   13.3, null,   11.5,   11.8,   12.9,    9.8,   13.6,   17.5,     10,   12.9,   10.4,   11.2,     10, null,   12.9, null,   11.2,   19.3, null,   13.2, null,    8.6,   12.9, null,   10.2,   15.2,   13.1, null,    7.2,   13.5,   11.7,   11.9,   13.5,   13.6,   13.4,   12.5,   15.9,   15.2,   11.2,   16.6 ],
"PneumoniaDeaths": [ null, null,   17.7,   36.6,     28,   18.5,   23.8, null, null,   24.1,   26.6,   37.7, null,   25.6,     26,   25.8,   32.1,   30.5,   42.9,     34,   20.9,   27.5,   20.2,   23.7, null,   28.2, null,   30.5,   25.9, null,     25, null,   35.5,   27.9, null,   18.8,   38.9,   25.1, null,   30.2,   29.1,   33.9,   28.3,   26.1,   24.9,   30.3,     29,     23,   33.6,   26.1,   37.6 ],
"PSIBirthTrauma": [ null, null,    1.4,    2.1,    1.8,    2.2,    3.4, null, null,    2.2,    2.3,    3.7, null,    1.9,    1.9,    2.8,    1.7,    1.7,    2.2,    2.2,    5.5,    2.1, null,    2.6, null,    2.6, null,    3.1,    1.6, null,    2.6, null,    2.1,      2, null,    1.7,    2.7,    1.5, null,    1.8,    1.5,    2.2,    2.3, null,    1.6,    3.4,    2.2,    2.1,      2,    2.2,    3.1 ],
"PSIOBTraumaNoInstument": [ null, null,   20.7,   23.2,   20.9,   19.3,   31.5, null, null,   20.4,   23.6,   30.6, null,   19.2,   20.8,   23.5,   25.1,   22.2,   20.4,   25.5,   24.2,   21.6, null,     27, null,   25.7, null,   32.4,   25.9, null,   22.4, null,     22,   24.3, null,   20.8,   24.5,   24.2, null,     24,   21.9,   20.3,   25.5, null,   16.3,   26.1,   25.6,   25.6,   18.5,     21,   19.5 ],
"PSIOBTraumaInstrument": [ null, null,  139.9,  122.8,  119.1,  152.9,  178.5, null, null,  106.5,  141.3,    180, null,  142.1,  145.3,  159.4,  178.1,  125.6,  114.3,  129.8,  134.3,  136.3, null,    153, null,  158.3, null,  212.6,  145.7, null,  133.5, null,  138.3,  160.1, null,  149.1,  131.1,  168.8, null,  165.4,  127.1,  154.6,  140.5, null,  112.1,  181.8,  160.5,    154,  127.1,  156.4,  137.6 ],
"PSIPostopSepsis": [ null, null,   19.9,   12.3,   16.1,     15,   10.7, null, null,   16.7,   16.3,   16.4, null,   16.6,   15.8,   11.4,   10.9,   19.1,   14.3,   14.6,   24.1,   13.3, null,   12.5, null,   15.3, null,   10.9,   18.9, null,   18.8, null,   17.5,   14.4, null,   15.2,   13.7,   17.5, null,   12.3,   13.2, null,   16.1, null,   18.9, null,   15.8,   15.2,   15.9,    9.9, null ],
"PSIPneumothorax": [ null, null,    1.5,    1.1,    1.3,    1.9,    1.3, null, null,    1.2,    1.4,    1.5, null,      1,    1.2,    1.1,    1.4,    1.4,    0.9,      1,    1.4,    1.3, null,    1.1, null,    1.3, null,    1.4,    1.2, null,    1.1, null,    1.1,    1.1, null,    1.2,    1.4,    1.8, null,    1.2,      1,    0.9,    1.3, null,      1,    1.1,    1.2,    1.4,    1.4,    1.4,    0.9 ],
"PSILowMortDeaths": [ null, null,   0.41,   0.46,   0.41, null,   0.28, null, null,   0.34,   0.65,   0.69, null,   0.33, null,   0.43,   0.41,   0.62,   0.67, null,   0.34,   0.21, null,   0.25, null,   0.42, null,   0.45,   0.67, null,   0.43, null,   0.39,    0.4, null,   0.35,   0.46, null, null, null,   0.46,   0.54,    0.5, null,    0.4,   0.76,   0.34,   0.24,   0.62,   0.34, null ] 
},
"facet": null,
"type": "point" 
} 
],
"facet": [],
"guides": [],
"coord": [],
"id": "chart50641f24fb2" 
}
  _.each($scope.chartParams.layers, function(el){
    el.data = polyjs.data(el.data)
  })
      
  $scope.controls = {
 "x": {
 "name": "x",
"value": "HeartAttackPCI",
"values": [ "ST", "HeartAttackPCI", "HeartFailureACE", "HeartFailureDischarge", "PneumoniaComposite", "PneumoniaCultures", "PneumoniaDose6Hrs", "PneumoniaRightAntibiotic", "PneumoniaInfluenza", "PneumoniaPneumovax", "SurgeryAntibioticTiming", "SurgeryRightAntibiotic", "SurgeryGlucoseControlled", "SurgeryHairRemoved", "SurgeryPreventClots", "SurgeryBetaBlocker", "SurgeryCatheterRemoved", "SurgeryTemperature", "AMIDeaths", "CHFDeaths", "AAARepairDeaths", "CABGDeaths", "PTCADeaths", "PneumoniaDeaths", "PSIBirthTrauma", "PSIOBTraumaNoInstument", "PSIOBTraumaInstrument", "PSIPostopSepsis", "PSIPneumothorax", "PSILowMortDeaths" ],
"label": "Select  x :" 
},
"y": {
 "name": "y",
"value": "HeartFailureACE",
"values": [ "ST", "HeartAttackPCI", "HeartFailureACE", "HeartFailureDischarge", "PneumoniaComposite", "PneumoniaCultures", "PneumoniaDose6Hrs", "PneumoniaRightAntibiotic", "PneumoniaInfluenza", "PneumoniaPneumovax", "SurgeryAntibioticTiming", "SurgeryRightAntibiotic", "SurgeryGlucoseControlled", "SurgeryHairRemoved", "SurgeryPreventClots", "SurgeryBetaBlocker", "SurgeryCatheterRemoved", "SurgeryTemperature", "AMIDeaths", "CHFDeaths", "AAARepairDeaths", "CABGDeaths", "PTCADeaths", "PneumoniaDeaths", "PSIBirthTrauma", "PSIOBTraumaNoInstument", "PSIOBTraumaInstrument", "PSIPostopSepsis", "PSIPneumothorax", "PSILowMortDeaths" ],
"label": "Select  y :" 
} 
}
  $scope.opts = $scope.chartParams.layers[0];
    
  $scope.drawChart = function(){
    $scope.chart = polyjs.chart($scope.chartParams)
	}

  $scope.updateChart = function(){
    $scope.chart.make($scope.chartParams)
	}
		
	$scope.$watch('opts', function(){
	  $scope.chartParams.layers[0] = $scope.opts;
	  $scope.updateChart();
	}, true)
}
</script>
    
  </body>
</html>
